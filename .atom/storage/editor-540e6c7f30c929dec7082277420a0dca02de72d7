{"version":1,"windowDimensions":{"x":65,"y":24,"width":1855,"height":1056,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal"],"buffers":[{"id":"b8d4d008179321c38c9ff3e17adfad09","text":"var express = require('express');\nvar app = express();\nvar fs = require('fs');\nvar config = require('config');\nvar mongoose = require('mongoose');\nmongoose.connect(config.get('mongo')); \n\nvar authCont = require('./util/controllers/authController')\nvar applyCont = require('./util/controllers/applyController');\nvar pendingCont = require('./util/controllers/pendingController');\nvar userCont = require('./util/controllers/userController');\n\nvar bodyParser = require('body-parser');\nvar cookieParser = require('cookie-parser');\nvar jsonParser = bodyParser.json();\nvar urlencodedParser = bodyParser.urlencoded({ extended: false });\n\n\napp.use(cookieParser());\n\n\n//redirect to login page unless logged in\napp.use('/', authCont.verify);\n\n\napp.get('/login', authCont.new);\napp.post('/login', urlencodedParser, authCont.create);\napp.get('/logout', authCont.destroy);\n\napp.get('/apps', applyCont.index);\napp.put('/apps/:id', jsonParser, applyCont.update);\napp.delete('/apps/:id', jsonParser, applyCont.destroy);\n\napp.get('/pendings', pendingCont.index);\napp.delete('/pendings/:id', jsonParser, pendingCont.destroy);\n\napp.get('/users', userCont.index);\napp.delete('/users/:id', jsonParser, userCont.destroy);\napp.put('/users/:id', jsonParser, userCont.update);\n\napp.use(express.static(__dirname + '/public'));\n\napp.listen(8080, function() {\n  console.log(\"listening at https://localhost:8080\");\n});\n\nmodule.exports = app;\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"4":{"range":{"start":{"row":2,"column":0},"end":{"row":2,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"5":{"range":{"start":{"row":7,"column":0},"end":{"row":7,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/server.js","digestWhenLastPersisted":"00c168572f5746b2d2d81b2c1b5a3d9505209bdd","preferredLineEnding":null,"nextMarkerId":6,"deserializer":"TextBuffer","version":5},{"id":"eb6562cbdd56f8ca526515388f66da5a","text":"var config = require('config');\nvar path = require('path')\n\nmodule.exports = {\n\n  verify: function(req, res, next) {\n    if (req.path === '/login') {\n      next();\n    } else if (!req.cookies || req.cookies.token !== config.get('password')) {\n      res.redirect('/login');\n    } else {\n      next();\n    }\n  },\n\n  new: function(req, res) {\n    res.sendFile(path.join(__dirname, '/../../public/login.html'));\n  },\n\n  create: function(req, res) {\n    if (req.body.password !== config.get('password')) {\n      res.redirect('/login');\n    } else {\n      res.cookie('token', req.body.password, { \n        maxAge: 7 * 24 * 3600000,\n      });\n      res.redirect('/');\n    }\n  },\n\n  destroy: function(req, res) {\n    res.cookie('token', '');\n    res.redirect('/login');\n  }\n\n};","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"2":{"range":{"start":{"row":1,"column":0},"end":{"row":1,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js","digestWhenLastPersisted":"dac50866789c3e03e9b22d1c236b2a6dc9efeafa","preferredLineEnding":null,"nextMarkerId":3,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":true,"firstVisibleScreenRow":8,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/server.js","bufferId":"b8d4d008179321c38c9ff3e17adfad09","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":0,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js","bufferId":"eb6562cbdd56f8ca526515388f66da5a","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-javascript","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-02-10T08:27:09.738Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/server.js","colorMarkers":[]},"8":{"id":8,"path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js","colorMarkers":[]}},"paths":["/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/chart.scss","/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/style.scss","/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss"],"variables":{"deserializer":"VariablesCollection","content":[{"name":"$color","value":"nth($ct-series-colors, $i + 1)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/chart.scss","range":[6453,6491],"line":213},{"name":"$chart-1","value":"#E80044","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/style.scss","range":[0,17],"line":0,"isColor":true,"color":[232,0,68,1],"variables":[]},{"name":"$chart-2","value":"#43BB6E","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/style.scss","range":[19,36],"line":1,"isColor":true,"color":[67,187,110,1],"variables":[]},{"name":"$chart-3","value":"#00B0E9","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/style.scss","range":[38,55],"line":2,"isColor":true,"color":[0,176,233,1],"variables":[]},{"name":"$ct-scales","value":"((1), (15/16), (8/9), (5/6), (4/5), (3/4), (2/3), (5/8), (1/1.618), (3/5), (9/16), (8/15), (1/2), (2/5), (3/8), (1/3), (1/4))","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[40,177],"line":1},{"name":"$ct-scales-names","value":"(ct-square, ct-minor-second, ct-major-second, ct-minor-third, ct-major-third, ct-perfect-fourth, ct-perfect-fifth, ct-minor-sixth, ct-golden-section, ct-major-sixth, ct-minor-seventh, ct-major-seventh, ct-octave, ct-major-tenth, ct-major-eleventh, ct-major-twelfth, ct-double-octave)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[188,489],"line":2},{"name":"$ct-class-chart","value":"ct-chart","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[547,572],"line":5},{"name":"$ct-class-chart-line","value":"ct-chart-line","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[583,618],"line":6},{"name":"$ct-class-chart-bar","value":"ct-chart-bar","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[629,662],"line":7},{"name":"$ct-class-horizontal-bars","value":"ct-horizontal-bars","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[673,718],"line":8},{"name":"$ct-class-chart-pie","value":"ct-chart-pie","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[729,762],"line":9},{"name":"$ct-class-chart-donut","value":"ct-chart-donut","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[773,810],"line":10},{"name":"$ct-class-label","value":"ct-label","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[821,846],"line":11},{"name":"$ct-class-series","value":"ct-series","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[857,884],"line":12},{"name":"$ct-class-line","value":"ct-line","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[895,918],"line":13},{"name":"$ct-class-point","value":"ct-point","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[929,954],"line":14},{"name":"$ct-class-area","value":"ct-area","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[965,988],"line":15},{"name":"$ct-class-bar","value":"ct-bar","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[999,1020],"line":16},{"name":"$ct-class-slice-pie","value":"ct-slice-pie","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1031,1064],"line":17},{"name":"$ct-class-slice-donut","value":"ct-slice-donut","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1075,1112],"line":18},{"name":"$ct-class-grid","value":"ct-grid","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1123,1146],"line":19},{"name":"$ct-class-vertical","value":"ct-vertical","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1157,1188],"line":20},{"name":"$ct-class-horizontal","value":"ct-horizontal","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1199,1234],"line":21},{"name":"$ct-class-start","value":"ct-start","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1245,1270],"line":22},{"name":"$ct-class-end","value":"ct-end","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1281,1302],"line":23},{"name":"$ct-container-ratio","value":"(1/1.618)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1333,1363],"line":26},{"name":"$ct-text-color","value":"rgba(0, 0, 0, 0.4)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1401,1435],"line":29,"isColor":true,"color":[0,0,0,0.4],"variables":[]},{"name":"$ct-text-size","value":"0.75rem","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1446,1468],"line":30},{"name":"$ct-text-align","value":"flex-start","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1479,1505],"line":31},{"name":"$ct-text-justify","value":"flex-start","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1516,1544],"line":32},{"name":"$ct-text-line-height","value":"1","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1555,1578],"line":33},{"name":"$ct-grid-color","value":"rgba(0, 0, 0, 0.2)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1596,1630],"line":36,"isColor":true,"color":[0,0,0,0.2],"variables":[]},{"name":"$ct-grid-dasharray","value":"2px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1641,1664],"line":37},{"name":"$ct-grid-width","value":"1px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1675,1694],"line":38},{"name":"$ct-line-width","value":"4px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1731,1750],"line":41},{"name":"$ct-line-dasharray","value":"false","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1761,1786],"line":42},{"name":"$ct-point-size","value":"10px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1797,1817],"line":43},{"name":"$ct-point-shape","value":"round","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1879,1901],"line":45},{"name":"$ct-area-opacity","value":"0.1","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[1954,1975],"line":47},{"name":"$ct-bar-width","value":"10px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2010,2029],"line":50},{"name":"$ct-donut-width","value":"60px","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2134,2155],"line":53},{"name":"$ct-include-classes","value":"true","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2324,2349],"line":57},{"name":"$ct-include-colored-series","value":"$ct-include-classes","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2488,2535],"line":61},{"name":"$ct-include-alternative-responsive-containers","value":"$ct-include-classes","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2669,2735],"line":64},{"name":"$ct-series-names","value":"(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o)","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2855,2918],"line":67},{"name":"$ct-series-colors","value":"(","path":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/sass/settings/_chartist-settings.scss","range":[2929,2949],"line":68}]}}},"fuzzy-finder":{"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/server.js":1455092812404,"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js":1455092822820},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal":{"isExpanded":true,"entries":{"js":{"isExpanded":false,"entries":{}},"node_modules":{"isExpanded":false,"entries":{}},"public":{"isExpanded":false,"entries":{}},"react-bootstrap-datetimepicker":{"isExpanded":false,"entries":{}},"sass":{"isExpanded":false,"entries":{}},"test":{"isExpanded":false,"entries":{}},"util":{"isExpanded":true,"entries":{"controllers":{"isExpanded":true,"entries":{}},"models":{"isExpanded":false,"entries":{}}}}}}},"selectedPath":"/home/andy/Documents/codesmith/lectures/unit-11-authentication/applicant-portal/util/controllers/authController.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}