{"version":1,"windowDimensions":{"x":65,"y":24,"width":1855,"height":1056,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/home/andy/Documents/codesmith/extension-ajax"],"buffers":[{"id":"6fbb63c76ef02217e2141f0b322eb695","text":"describe('MyPromise', function() {\n\n  this.timeout(200);\n  var succeed, fail, setThisVar;\n  beforeEach(function() {\n    setThisVar = undefined;\n    succeed = new MyPromise(function(resolve, reject) {\n      setTimeout(resolve, 0);\n    });\n    fail = new MyPromise(function(resolve, reject) {\n      setTimeout(reject, 0);\n    });\n  });\n\n  it('should have done and fail methods', function() {\n    expect(succeed.done).to.not.be(undefined);\n    expect(succeed.fail).to.not.be(undefined);\n  });\n\n  it('should run a \"done\" callback when it is done', function(done) {\n    expect(setThisVar).to.be(undefined);\n    succeed.done(function() {\n      expect(setThisVar).to.be(true);\n      done();\n    });\n    setThisVar = true;\n  });\n\n  it('should run a \"fail\" callback when it errors', function(done) {\n    expect(setThisVar).to.be(undefined);\n    fail.fail(function() {\n      expect(setThisVar).to.be(true);\n      done();\n    });\n    setThisVar = true;\n  });\n\n  it('should not run the \"done\" callback when it errors', function(done) {\n    expect(setThisVar).to.be(undefined);\n    fail.done(function() {\n      throw new Error('Uh oh! It ran the success callback when it should not have.');\n    });\n    fail.fail(function() {\n      expect(setThisVar).to.be(true);\n      done();\n    });\n    setThisVar = true;\n  });\n\n});\n\ndescribe('ojQuery', function() {\n\n  describe('GET request', function() {\n\n    it('should run done callback when valid', function(done) {\n      var req = $$.ajax({\n        method: 'GET',\n        url: 'http://slack-server.elasticbeanstalk.com/calendar/2',\n      });\n\n      req.done(function(body, statusText, response) {\n        expect(body).to.be.a('string');\n        expect(JSON.parse(body)).to.be.a('object');\n        expect(statusText).to.be('OK');\n        expect(response.status).to.be(200);\n        done();\n      });\n\n      req.fail(function(body, statusText, response) {\n        throw new Error('Uh oh! It ran the fail callback when it should not have.');\n      });\n    });\n\n    it('should run fail callback when invalid', function(done) {\n      var req = $$.ajax({\n        method: 'GET',\n        url: 'http://api.github.com/users/doesntexistman'\n      });\n\n      req.done(function(body, statusText, response) {\n        throw new Error('Uh oh! It ran the success callback when it should not have.');\n      });\n\n      req.fail(function(body, statusText, response) {\n        expect(statusText).to.be('Not Found');\n        expect(response.status).to.be(404);\n        done();\n      });\n    });\n  });\n\n  describe('POST request', function() {\n    it('should make a post request', function(done) {\n      var req = $$.ajax({\n        method: 'POST',\n        url: 'http://slack-server.elasticbeanstalk.com/echo',\n        contentType: 'application/json',\n        data: JSON.stringify({ message: \"success\" })\n      });\n\n      req.done(function(body, statusText, response) {\n        expect(body).to.eql('{\"message\":\"success\"}');\n        done();\n      });\n\n      req.fail(function(body, statusText, response) {\n        throw new Error(body);\n      })\n    });\n  });\n\n});\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"126":{"range":{"start":{"row":74,"column":19},"end":{"row":74,"column":19}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"133":{"range":{"start":{"row":73,"column":0},"end":{"row":75,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"134":{"range":{"start":{"row":85,"column":0},"end":{"row":87,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"135":{"range":{"start":{"row":112,"column":0},"end":{"row":112,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"136":{"range":{"start":{"row":6,"column":0},"end":{"row":6,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"137":{"range":{"start":{"row":69,"column":0},"end":{"row":69,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"138":{"range":{"start":{"row":80,"column":0},"end":{"row":80,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"139":{"range":{"start":{"row":101,"column":0},"end":{"row":101,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"140":{"range":{"start":{"row":106,"column":0},"end":{"row":106,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"141":{"range":{"start":{"row":108,"column":0},"end":{"row":108,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":74,"column":23},"end":{"row":74,"column":23}},"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":25,"undoStack":[{"type":"group-start","snapshot":{"2":{"1":{"range":[[85,34],[85,43]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[85,34],[85,43]],"newRange":[[85,34],[85,35]],"oldText":"Forbidden","newText":"N"}},{"type":"change","content":{"oldRange":[[85,35],[85,35]],"newRange":[[85,35],[85,36]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[85,36],[85,36]],"newRange":[[85,36],[85,37]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[85,37],[85,37]],"newRange":[[85,37],[85,38]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[85,38],[85,38]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[85,38],[85,38]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[73,0],[73,4]],"newRange":[[73,0],[73,0]],"oldText":"    ","newText":""}},{"type":"change","content":{"oldRange":[[115,0],[116,0]],"newRange":[[115,0],[115,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[114,0],[115,0]],"newRange":[[114,0],[114,0]],"oldText":"\n","newText":""}},{"type":"change","content":{"oldRange":[[113,0],[114,0]],"newRange":[[113,0],[113,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[85,38],[85,38]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[85,38],[85,38]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[85,38],[85,38]],"newRange":[[85,38],[85,39]],"oldText":"","newText":"F"}},{"type":"change","content":{"oldRange":[[85,39],[85,39]],"newRange":[[85,39],[85,40]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[85,40],[85,40]],"newRange":[[85,40],[85,41]],"oldText":"","newText":"u"}},{"type":"change","content":{"oldRange":[[85,41],[85,41]],"newRange":[[85,41],[85,42]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[85,42],[85,42]],"newRange":[[85,42],[85,43]],"oldText":"","newText":"d"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[85,43],[85,43]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[86,41],[86,41]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[86,40],[86,41]],"newRange":[[86,40],[86,40]],"oldText":"3","newText":""}},{"type":"change","content":{"oldRange":[[86,40],[86,40]],"newRange":[[86,40],[86,41]],"oldText":"","newText":"4"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[86,41],[86,41]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[74,19],[74,23]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[74,19],[74,23]],"newRange":[[74,19],[74,20]],"oldText":"done","newText":"f"}},{"type":"change","content":{"oldRange":[[74,20],[74,20]],"newRange":[[74,20],[74,21]],"oldText":"","newText":"a"}},{"type":"change","content":{"oldRange":[[74,21],[74,21]],"newRange":[[74,21],[74,22]],"oldText":"","newText":"i"}},{"type":"change","content":{"oldRange":[[74,22],[74,22]],"newRange":[[74,22],[74,23]],"oldText":"","newText":"l"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[74,23],[74,23]],"properties":{"type":"selection","goalScreenRange":null,"autoscroll":false},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/andy/Documents/codesmith/extension-ajax/test/index.js","digestWhenLastPersisted":"90d34da063a40f50c041df3fac7e92da8a1c41ba","preferredLineEnding":null,"nextMarkerId":142,"deserializer":"TextBuffer","version":5},{"id":"2e419a02519fc5f50bfde4a745eaabb8","text":"// var $$ = (function() {\n\n//   var ojQuery = {};\n\n//   ojQuery.ajax = function(obj) {\n\n//     return new MyPromise(function(resolve, reject) {\n//       var xmlhttp = new XMLHttpRequest();\n//     });\n    \n//   }\n\n//   return ojQuery;\n\n// })();\n\nvar $$ = (function() {\n\n  var ojQuery = {};\n\n  ojQuery.ajax = function(obj) {\n\n    return new MyPromise(function(resolve, reject) {\n      var xmlhttp = new XMLHttpRequest();\n\n      xmlhttp.onreadystatechange = function() {\n        if (xmlhttp.readyState == XMLHttpRequest.DONE ) {\n          if(xmlhttp.status >= 200 && xmlhttp.status < 400 || xmlhttp.status == 0) {\n            resolve(xmlhttp.response, xmlhttp.statusText, xmlhttp);\n          }\n          else if(xmlhttp.status >= 400 && xmlhttp.status < 600) {\n            reject(xmlhttp.responseText, xmlhttp.statusText, xmlhttp);\n          }\n          else {\n            console.log('A \"' + xmlhttp.status + '\" status was returned.')\n          }\n        }\n      }\n\n      xmlhttp.open(obj.method, obj.url, true);\n      if (obj.contentType) {\n        xmlhttp.setRequestHeader(\"Content-type\", obj.contentType);\n      }\n      xmlhttp.send(obj.data);\n    });\n  }\n\n  return ojQuery;\n\n})();","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"6":{"range":{"start":{"row":0,"column":0},"end":{"row":16,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"7":{"range":{"start":{"row":24,"column":0},"end":{"row":44,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"8":{"range":{"start":{"row":44,"column":0},"end":{"row":44,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"9":{"range":{"start":{"row":49,"column":0},"end":{"row":49,"column":5}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never"},"25":{"range":{"start":{"row":16,"column":0},"end":{"row":16,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"26":{"range":{"start":{"row":27,"column":0},"end":{"row":27,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"27":{"range":{"start":{"row":34,"column":0},"end":{"row":34,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"28":{"range":{"start":{"row":37,"column":0},"end":{"row":37,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"29":{"range":{"start":{"row":45,"column":0},"end":{"row":45,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js","digestWhenLastPersisted":"b5797a26c5edc50472402f525cf0426b19d109c1","preferredLineEnding":null,"nextMarkerId":30,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":4,"softTabs":true,"firstVisibleScreenRow":62,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":5,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/home/andy/Documents/codesmith/extension-ajax/test/index.js","bufferId":"6fbb63c76ef02217e2141f0b322eb695","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"},{"deserializer":"TextEditor","id":8,"softTabs":true,"firstVisibleScreenRow":15,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":9,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js","bufferId":"2e419a02519fc5f50bfde4a745eaabb8","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js","focused":false,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-javascript","language-hyperlink","language-todo"],"destroyedItemURIs":[]},"packageStates":{"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-02-03T03:56:06.864Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"4":{"id":4,"path":"/home/andy/Documents/codesmith/extension-ajax/test/index.js","colorMarkers":[]},"8":{"id":8,"path":"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js","colorMarkers":[]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}},"fuzzy-finder":{"/home/andy/Documents/codesmith/extension-ajax/test/index.js":1454467151569,"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js":1454467385792},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/home/andy/Documents/codesmith/extension-ajax":{"isExpanded":true,"entries":{"test":{"isExpanded":true,"entries":{"lib":{"isExpanded":false,"entries":{}}}}}}},"selectedPath":"/home/andy/Documents/codesmith/extension-ajax/ojQuery.js","hasFocus":true,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}