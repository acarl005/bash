{"version":1,"windowDimensions":{"x":65,"y":24,"width":1855,"height":1056,"maximized":true},"grammars":{"grammarOverridesByPath":{}},"project":{"deserializer":"Project","paths":["/home/andy/Documents/production/unit-project-slack-server"],"buffers":[{"id":"926b0693bb93ab8975cd1f738656a909","text":"var config = require('config');\nvar express = require('express');\nvar app = express();\nvar mongoose = require('mongoose');\n\nconsole.log('opening connection to DB...');\napp.connectedToMongo = false;\nmongoose.connect(config.get('mongo'), function() {\n  app.connectedToMongo = true;\n  console.log('connected to MongoDB');\n});\n\nvar messageController = require('./app/controllers/messageController');\nvar calendarController = require('./app/controllers/calendarController');\nvar jwtController = require('./app/controllers/jwtController');\n\nvar path = require('path');\nvar config = require('config');\nvar bodyParser = require('body-parser');\nvar cookieParser = require('cookie-parser');\nvar cors = require('cors');\n\napp.use(cookieParser());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\napp.use(cors());\n\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\n\napp.get('/login', function(req, res) {\n  res.render('login');\n});\n\napp.get('/', function(req, res) {\n  res.redirect('/apis');\n});\n\napp.use('/apis', jwtController.verify);\napp.get('/apis', calendarController.index);\napp.post('/apis', calendarController.create);\napp.delete('/apis/:num', calendarController.destroy);\n\napp.get('/calendar/:cohortNumber', calendarController.show);\napp.get('/cache', calendarController.cache);\n\napp.get('/messages', messageController.index);\napp.post('/messages', checkHeaders, messageController.create);\n\nfunction checkHeaders(req, res, next) {\n  if (/application\\/json/.test(req.headers['content-type'])) {\n    return next();\n  }\n  res.status(400).send({\n    message: \"I only accept JSON. The Content-Type header needs to be \\\"application/json\\\". Instead I got \" + req.headers['content-type']\n  });\n}\n\napp.post('/echo', function(req, res) {\n  res.send(req.body);\n});\n\nvar port = config.get('port');\napp.listen(process.env.PORT || port, function() {\n  console.log('listening at http://localhost:' + port);\n});\n\nmodule.exports = app;\n","defaultMarkerLayerId":"0","markerLayers":{"0":{"id":"0","maintainHistory":false,"markersById":{"56":{"range":{"start":{"row":50,"column":30},"end":{"row":50,"column":58}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"77":{"range":{"start":{"row":52,"column":2},"end":{"row":52,"column":3}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"},"78":{"range":{"start":{"row":50,"column":61},"end":{"row":50,"column":62}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap"}},"version":2},"1":{"id":"1","maintainHistory":false,"markersById":{},"version":2},"2":{"id":"2","maintainHistory":true,"markersById":{"1":{"range":{"start":{"row":52,"column":3},"end":{"row":52,"column":3}},"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}},"version":2},"3":{"id":"3","maintainHistory":false,"markersById":{},"version":2}},"nextMarkerLayerId":4,"history":{"version":3,"nextCheckpointId":33,"undoStack":[{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,38],[50,38]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,37],[50,38]],"newRange":[[50,37],[50,37]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[50,36],[50,37]],"newRange":[[50,36],[50,36]],"oldText":"=","newText":""}},{"type":"change","content":{"oldRange":[[50,35],[50,36]],"newRange":[[50,35],[50,35]],"oldText":"=","newText":""}},{"type":"change","content":{"oldRange":[[50,34],[50,35]],"newRange":[[50,34],[50,34]],"oldText":"=","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,34],[50,34]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,34],[50,34]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,33],[50,34]],"newRange":[[50,33],[50,33]],"oldText":" ","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,33],[50,33]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,34],[50,34]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,33],[50,34]],"newRange":[[50,33],[50,33]],"oldText":"'","newText":""}},{"type":"change","content":{"oldRange":[[50,33],[50,33]],"newRange":[[50,33],[50,34]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,34],[50,34]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,45],[50,45]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,45],[50,45]],"newRange":[[50,45],[50,46]],"oldText":"","newText":"\\"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,46],[50,46]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,51],[50,51]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,51],[50,51]],"newRange":[[50,51],[50,52]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,52],[50,52]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,53],[50,53]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,52],[50,53]],"newRange":[[50,52],[50,52]],"oldText":"'","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,52],[50,52]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,52],[50,52]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,52],[50,52]],"newRange":[[50,52],[50,53]],"oldText":"","newText":"."}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,53],[50,53]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,53],[50,53]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,53],[50,53]],"newRange":[[50,53],[50,54]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[50,54],[50,54]],"newRange":[[50,54],[50,55]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[50,55],[50,55]],"newRange":[[50,55],[50,56]],"oldText":"","newText":"s"}},{"type":"change","content":{"oldRange":[[50,56],[50,56]],"newRange":[[50,56],[50,57]],"oldText":"","newText":"t"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,57],[50,57]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,57],[50,57]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,57],[50,57]],"newRange":[[50,57],[50,59]],"oldText":"","newText":"()"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,59],[50,59]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,6],[50,33]],"properties":{"type":"selection","goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,6],[50,33]],"newRange":[[50,6],[50,6]],"oldText":"req.headers['content-type']","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,6],[50,6]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,31],[50,31]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,31],[50,31]],"newRange":[[50,31],[50,58]],"oldText":"","newText":"req.headers['content-type']"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,58],[50,58]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,6],[50,6]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,6],[50,6]],"newRange":[[50,6],[50,7]],"oldText":"","newText":"!"}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,7],[50,7]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"group-start","snapshot":{"2":{"1":{"range":[[50,7],[50,7]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}},{"type":"change","content":{"oldRange":[[50,6],[50,7]],"newRange":[[50,6],[50,6]],"oldText":"!","newText":""}},{"type":"group-end","snapshot":{"2":{"1":{"range":[[50,6],[50,6]],"properties":{"type":"selection","goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never"}}}}],"redoStack":[]},"encoding":"utf8","filePath":"/home/andy/Documents/production/unit-project-slack-server/server.js","digestWhenLastPersisted":"8acf66a0722db071a05730255610bec35feea364","preferredLineEnding":null,"nextMarkerId":79,"deserializer":"TextBuffer","version":5}]},"workspace":{"deserializer":"Workspace","paneContainer":{"deserializer":"PaneContainer","version":1,"root":{"deserializer":"Pane","id":3,"items":[{"deserializer":"TextEditor","id":260,"softTabs":true,"firstVisibleScreenRow":40,"firstVisibleScreenColumn":0,"displayBuffer":{"deserializer":"DisplayBuffer","id":261,"softWrapped":false,"tokenizedBuffer":{"deserializer":"TokenizedBuffer","bufferPath":"/home/andy/Documents/production/unit-project-slack-server/server.js","bufferId":"926b0693bb93ab8975cd1f738656a909","largeFileMode":false},"largeFileMode":false,"foldsMarkerLayerId":"1"},"selectionsMarkerLayerId":"2"}],"activeItemURI":"/home/andy/Documents/production/unit-project-slack-server/server.js","focused":true,"flexScale":1},"activePaneId":3},"packagesWithActiveGrammars":["language-javascript","language-hyperlink","language-todo"],"destroyedItemURIs":["/home/andy/Documents/production/unit-project-slack-server/package.json","/home/andy/Documents/production/unit-project-slack-server/app/models/messageModel.js","/home/andy/Documents/production/unit-project-slack-server/app/controllers/messageController.js","/home/andy/Documents/production/unit-project-slack-server/test/structure.js","/home/andy/Documents/production/unit-project-slack-server/test/index.js","/home/andy/Documents/production/unit-project-slack-server/app/cache.json","atom://config","/home/andy/Documents/production/unit-project-slack-server/test/message.js","/home/andy/Documents/production/unit-project-slack-server/README.md","/home/andy/Documents/production/unit-project-slack-server/views/index.ejs","/home/andy/Documents/production/unit-project-slack-server/views/login.ejs","/home/andy/Documents/production/unit-project-slack-server/app/models/apiModel.js","/home/andy/Documents/production/unit-project-slack-server/app/controllers/calendarController.js","/home/andy/Documents/production/unit-project-slack-server/test/calendar.js","/home/andy/Documents/production/unit-project-slack-server/app/controllers/jwtController.js"]},"packageStates":{"pigments":{"project":{"deserializer":"ColorProject","timestamp":"2016-02-10T01:39:42.154Z","version":"1.0.1","markersVersion":"1.0.5","globalSourceNames":["**/*.styl","**/*.stylus","**/*.less","**/*.sass","**/*.scss"],"globalIgnoredNames":["vendor/*","node_modules/*","spec/*","test/*"],"buffers":{"260":{"id":260,"path":"/home/andy/Documents/production/unit-project-slack-server/server.js","colorMarkers":[]}},"paths":[],"variables":{"deserializer":"VariablesCollection","content":[]}}},"find-and-replace":{"findOptions":{"findPattern":"conso","replacePattern":"","pathsPattern":"","useRegex":false,"wholeWord":false,"caseSensitive":false,"inCurrentSelection":false},"findHistory":["JSON","console","url","conso"],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/home/andy/Documents/production/unit-project-slack-server/server.js":1455065441170},"keybinding-resolver":{},"metrics":{"sessionLength":1613283},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/home/andy/Documents/production/unit-project-slack-server":{"isExpanded":true,"entries":{"app":{"isExpanded":true,"entries":{"controllers":{"isExpanded":true,"entries":{}},"models":{"isExpanded":true,"entries":{}}}},"config":{"isExpanded":true,"entries":{}},"keys":{"isExpanded":true,"entries":{}},"test":{"isExpanded":true,"entries":{}},"views":{"isExpanded":true,"entries":{}}}}},"selectedPath":"/home/andy/Documents/production/unit-project-slack-server/server.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}},"fullScreen":false}